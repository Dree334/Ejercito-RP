<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REGISTRO DE ALISTAMIENTO G6 - COLOMBIA RP</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Bebas+Neue&display=swap" rel="stylesheet"/>
    <style>
        :root {
            --mil-olive:  #2e3516;
            --olive-lt:   #4a5228;
            --fac-yellow: #fcd116;
            --fac-blue:   #003893;
            --fac-red:    #ce1126;
            --paper:      #e3d9c6;
            --paper-dk:   #cec3ae;
            --ink:        #1a1a1a;
            --ink-lt:     #3a3a3a;
        }

        *, *::before, *::after { box-sizing: border-box; margin:0; padding:0; }

        body {
            background: #0a0b08;
            font-family: 'Share Tech Mono', monospace;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px 15px 50px;
            overflow-x: hidden;
            position: relative;
        }

        /* Dark radial BG */
        body::before {
            content: '';
            position: fixed; inset: 0;
            background: radial-gradient(ellipse at 50% 30%, #151a08 0%, #050505 100%);
            pointer-events: none; z-index: 0;
        }

        /* Grid overlay */
        body::after {
            content: '';
            position: fixed; inset: 0;
            background:
                linear-gradient(rgba(193,255,59,0.012) 1px, transparent 1px),
                linear-gradient(90deg, rgba(193,255,59,0.012) 1px, transparent 1px);
            background-size: 30px 30px;
            pointer-events: none; z-index: 0;
        }

        /* Particles */
        .particles { position: fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden; }
        .p { position:absolute; border-radius:50%; opacity:0; animation:rise linear infinite; }
        @keyframes rise {
            0%   { opacity:0; transform:translateY(100vh) translateX(0); }
            10%  { opacity:.5; } 90% { opacity:.2; }
            100% { opacity:0; transform:translateY(-30px) translateX(var(--d)); }
        }

        /* ‚ïê‚ïê LOADING SCREEN ‚ïê‚ïê */
        #pantalla-carga {
            position: fixed; inset:0; background:#000;
            z-index: 10000; display:none;
            flex-direction:column; justify-content:center; align-items:center;
            color: var(--fac-yellow);
        }

        .scan-doc-frame {
            width: 300px; height: 200px;
            border: 1px solid rgba(252,209,22,.3);
            position: relative; overflow:hidden; margin-bottom: 24px;
            background: rgba(46,53,22,.15);
        }
        .scanner-line {
            width: 100%; height: 2px;
            background: var(--fac-red);
            box-shadow: 0 0 14px var(--fac-red), 0 0 30px rgba(206,17,38,.4);
            position: absolute; animation: scan-doc 1.6s ease-in-out infinite;
        }
        @keyframes scan-doc { 0%{top:0;opacity:0} 15%{opacity:1} 85%{opacity:1} 100%{top:100%;opacity:0} }

        .scan-lines-inner {
            position: absolute; inset:0;
            background: repeating-linear-gradient(0deg, transparent, transparent 8px, rgba(252,209,22,.025) 8px, rgba(252,209,22,.025) 9px);
        }

        .load-title {
            font-family: 'Orbitron', sans-serif;
            font-size: .65rem; letter-spacing: 4px; color: var(--fac-yellow);
            margin-bottom: 8px;
        }
        #load-status {
            font-family: 'Share Tech Mono', monospace;
            font-size: .6rem; letter-spacing: 3px; color: var(--fac-red);
            animation: blink-load 1s step-start infinite;
        }
        @keyframes blink-load { 0%,100%{opacity:1} 50%{opacity:.3} }

        .load-flag {
            width: 300px; height: 4px; margin-bottom: 20px;
            background: linear-gradient(90deg, #fcd116 33.33%, #003893 33.33% 66.66%, #ce1126 66.66%);
        }

        /* ‚ïê‚ïê MAIN PAD ‚ïê‚ïê */
        .signature-pad {
            position: relative; z-index: 1;
            background: var(--paper);
            width: 100%; max-width: 500px;
            border: 6px double var(--mil-olive);
            box-shadow: 0 0 60px rgba(0,0,0,.85), 0 0 120px rgba(0,0,0,.5);
            overflow: hidden;
            animation: slideUp .55s ease both;
        }
        @keyframes slideUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }

        /* Texture overlay */
        .signature-pad::before {
            content: '';
            position: absolute; inset:0;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000' fill-opacity='0.025'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none; z-index: 0;
        }

        /* Tricolor bar */
        .tricolor-bar {
            height: 10px; display:flex; width:100%; position:relative; z-index:1;
        }
        .tc-y { background:var(--fac-yellow); flex:2; }
        .tc-b { background:var(--fac-blue); flex:1; }
        .tc-r { background:var(--fac-red); flex:1; }

        .pad-inner { padding: 28px 32px 32px; position:relative; z-index:1; }

        /* Header */
        .doc-header { text-align:center; margin-bottom: 20px; }
        .doc-escudo { font-size: 1.8rem; margin-bottom: 4px; }
        .doc-republic {
            font-family: 'Orbitron', sans-serif;
            font-size: .52rem; letter-spacing: 4px; color: var(--mil-olive); font-weight:700;
        }
        .doc-forces {
            font-size: .48rem; color: var(--olive-lt); letter-spacing: 3px; margin-top: 2px;
        }

        /* Section divider */
        .sec-div {
            display: flex; align-items: center; gap: 10px;
            margin: 16px 0 12px;
        }
        .sec-div::before, .sec-div::after {
            content:''; flex:1; height:1px; background: var(--mil-olive); opacity:.4;
        }
        .sec-label {
            font-family: 'Orbitron', sans-serif;
            font-size: .55rem; letter-spacing: 3px; color: var(--mil-olive); font-weight:700;
            white-space: nowrap;
        }

        /* Form fields */
        .f-label {
            display:block; font-family:'Orbitron',sans-serif;
            font-size:.45rem; letter-spacing:2px; font-weight:700;
            color: var(--olive-lt); margin-bottom: 4px; margin-top: 10px;
        }
        .f-input, .f-select {
            width:100%; padding: 10px 12px;
            background: rgba(255,255,255,0.5);
            border: 1px solid var(--mil-olive);
            font-family: 'Share Tech Mono', monospace;
            font-size: .78rem; color: var(--ink);
            outline:none;
            transition: border-color .2s, box-shadow .2s;
        }
        .f-input:focus, .f-select:focus {
            border-color: var(--fac-blue);
            box-shadow: 0 0 0 2px rgba(0,56,147,.15);
        }
        .f-input::placeholder { color:#9a9082; }
        .f-select { cursor:pointer; }
        .f-select option { background: var(--paper); }

        /* Signature area */
        .sign-wrap {
            border: 1px solid var(--mil-olive);
            height: 140px; margin-top: 8px;
            background: #fff; cursor: crosshair;
            position: relative; overflow:hidden;
        }
        .sign-label-bg {
            position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
            pointer-events:none;
            font-family: 'Orbitron', sans-serif;
            font-size: .5rem; letter-spacing: 3px; color: rgba(46,53,22,.12);
        }
        #sig-canvas { width:100%; height:100%; touch-action:none; }

        /* Buttons */
        .actions { display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:16px; }
        .btn {
            padding:13px; border:none; cursor:pointer;
            font-family:'Orbitron',sans-serif; font-size:.55rem;
            font-weight:700; letter-spacing:3px; text-transform:uppercase;
            transition: all .2s; position:relative; overflow:hidden;
        }
        .btn-clear { background:var(--fac-red); color:#fff; }
        .btn-clear:hover { background:#a00d1e; box-shadow:0 0 14px rgba(206,17,38,.4); }
        .btn-confirm { background:var(--mil-olive); color:var(--fac-yellow); }
        .btn-confirm:hover { background:var(--olive-lt); box-shadow:0 0 14px rgba(46,53,22,.5); }

        .footer-tag {
            font-size:.45rem; margin-top:16px; color:#9a9082;
            text-align:center; letter-spacing:2px;
        }

        /* ‚ïê‚ïê SUCCESS SCREEN ‚ïê‚ïê */
        #success-screen {
            display:none;
            position:absolute; inset:0;
            background: var(--paper);
            z-index: 200;
            flex-direction:column; align-items:center;
            padding: 28px 26px; text-align:center;
            overflow-y: auto;
        }

        .success-tricolor {
            position:absolute; top:0; left:0; right:0; height:8px;
            display:flex;
        }

        .watermark-success {
            position:absolute; top:50%; left:50%;
            transform:translate(-50%,-50%) rotate(-25deg);
            font-family:'Bebas Neue',sans-serif;
            font-size:4.5rem; letter-spacing:6px;
            color:rgba(0,0,0,0.028); pointer-events:none; white-space:nowrap;
        }

        .doc-title-suc {
            font-family: 'Orbitron', sans-serif;
            font-size: .75rem; font-weight:900; letter-spacing:4px;
            color: var(--mil-olive);
            border-bottom: 2px solid var(--mil-olive);
            padding-bottom: 8px; margin-bottom: 14px; margin-top:18px;
            text-transform: uppercase;
        }

        .cert-text {
            font-size: .65rem; color: var(--ink-lt); line-height: 1.7;
            text-align:justify; margin-bottom:14px;
        }

        .data-box {
            width:100%; border:1px solid rgba(0,0,0,.25);
            padding:14px; background:rgba(255,255,255,.35);
            margin:8px 0; position:relative; text-align:left;
        }
        .data-box::before {
            content:''; position:absolute; left:0; top:0; bottom:0; width:3px;
            background:var(--fac-blue);
        }

        .data-key {
            font-family:'Orbitron',sans-serif; font-size:.42rem;
            letter-spacing:2px; color:var(--mil-olive); margin-bottom:3px;
        }
        .data-val {
            font-family:'Bebas Neue',sans-serif; font-size:1.3rem;
            letter-spacing:3px; color:var(--ink);
        }

        .sig-preview {
            max-width:100%; height:70px;
            filter: sepia(1) contrast(1.3) opacity(.85);
            margin-top:6px;
            border-top:1px solid rgba(0,0,0,.1); padding-top:4px;
        }

        /* Stamp */
        .stamp-wrap { margin: 18px auto 10px; display:flex; gap:20px; justify-content:center; align-items:center; }

        .stamp-oficial {
            width: 110px; height: 110px;
            border: 3px double var(--fac-blue);
            border-radius:50%; color:var(--fac-blue);
            display:flex; flex-direction:column; justify-content:center; align-items:center;
            font-family:'Orbitron',sans-serif;
            font-size: .38rem; font-weight:700; letter-spacing:1px; text-align:center;
            line-height: 1.7; padding:8px;
            opacity:0;
            animation: stampIn .5s cubic-bezier(.18,.89,.32,1.28) .3s forwards;
        }
        @keyframes stampIn {
            from { transform:scale(3.5) rotate(0deg); opacity:0; }
            to   { transform:scale(1) rotate(12deg); opacity:.65; }
        }

        .stamp-red {
            border-color: var(--fac-red); color: var(--fac-red);
            animation-delay: .5s;
        }

        .success-meta {
            font-size:.5rem; color:#888; letter-spacing:2px; margin-top:10px; line-height:1.9;
        }

        .btn-nuevo {
            margin-top:16px; background:none;
            border:1px solid var(--mil-olive); color:var(--mil-olive);
            font-family:'Orbitron',sans-serif; font-size:.5rem; letter-spacing:3px;
            padding:8px 20px; cursor:pointer; transition:all .2s;
        }
        .btn-nuevo:hover { background:var(--mil-olive); color:var(--fac-yellow); }

        /* corner deco on success */
        .corner-deco {
            position:absolute; width:16px; height:16px;
        }
        .corner-deco.tl { top:16px; left:16px; border-top:2px solid var(--mil-olive); border-left:2px solid var(--mil-olive); }
        .corner-deco.br { bottom:16px; right:16px; border-bottom:2px solid var(--mil-olive); border-right:2px solid var(--mil-olive); }
    </style>
</head>
<body>

<div class="particles" id="particles"></div>

<!-- LOADING -->
<div id="pantalla-carga">
    <div class="load-flag"></div>
    <div class="scan-doc-frame">
        <div class="scan-lines-inner"></div>
        <div class="scanner-line"></div>
    </div>
    <div class="load-title">VERIFICANDO CREDENCIALES G6</div>
    <div id="load-status">ESPERANDO RESPUESTA...</div>
</div>

<!-- MAIN PAD -->
<div class="signature-pad">
    <div class="tricolor-bar">
        <div class="tc-y"></div>
        <div class="tc-b"></div>
        <div class="tc-r"></div>
    </div>

    <div class="pad-inner">

        <div class="doc-header">
            <div class="doc-escudo">ü¶Ö</div>
            <div class="doc-republic">REP√öBLICA DE COLOMBIA</div>
            <div class="doc-forces">FUERZAS MILITARES ¬∑ GUERRAS MUNDIALES ROLEPLAY</div>
        </div>

        <div class="sec-div"><span class="sec-label">REGISTRO DE ALISTAMIENTO</span></div>

        <label class="f-label">RANGO DE OPERACIONES</label>
        <select class="f-select" id="rango">
            <option>RECLUTA (REC)</option>
            <option>CABO (CB)</option>
            <option>SARGENTO (SGT)</option>
            <option>TENIENTE (TE)</option>
            <option>MAYOR (MY)</option>
            <option>CORONEL (CR)</option>
            <option>GENERAL (GN)</option>
        </select>

        <label class="f-label">NOMBRE IC (ENVIAR CAPTURA AL DISCORD AL FIRMAR)</label>
        <input class="f-input" type="text" id="nombre" placeholder="Ej: Pepe_Perez" autocomplete="off" spellcheck="false"/>

        <div class="sec-div" style="margin-top:18px"><span class="sec-label">FIRMA HOLOGR√ÅFICA</span></div>

        <div class="sign-wrap">
            <div class="sign-label-bg">FIRME AQU√ç</div>
            <canvas id="sig-canvas"></canvas>
        </div>

        <div class="actions">
            <button class="btn btn-clear" onclick="clearCanvas()">‚úï ANULAR</button>
            <button class="btn btn-confirm" onclick="iniciarProceso()">‚úî VALIDAR</button>
        </div>

        <div class="footer-tag">SISTEMA G6 ¬∑ COLOMBIA WARS RP ¬∑ DEV: SAM SUKV</div>

        <!-- SUCCESS SCREEN -->
        <div id="success-screen">
            <div class="success-tricolor">
                <div style="background:var(--fac-yellow);flex:2"></div>
                <div style="background:var(--fac-blue);flex:1"></div>
                <div style="background:var(--fac-red);flex:1"></div>
            </div>
            <div class="corner-deco tl"></div>
            <div class="corner-deco br"></div>
            <div class="watermark-success">EJ√âRCITO COL</div>

            <div class="doc-title-suc">ACTA DE REGISTRO MILITAR</div>

            <p class="cert-text">
                Por medio de la presente se certifica que el personal identificado a continuaci√≥n ha jurado lealtad y cumplido con los protocolos de ingreso al Sistema G6. Este documento tiene validez dentro del marco del Roleplay Militar Colombia Wars RP.
            </p>

            <div class="data-box">
                <div class="data-key">SUJETO IDENTIFICADO</div>
                <div class="data-val" id="resumen"></div>
                <div class="data-key" style="margin-top:10px; border-top:1px solid rgba(0,0,0,.1); padding-top:8px;">FIRMA REGISTRADA</div>
                <img class="sig-preview" id="captured-signature" src="" alt="firma"/>
            </div>

            <div class="stamp-wrap">
                <div class="stamp-oficial">
                    CERTIFICADO<br>OFICIAL<br>G6-COL<br>‚òÖ
                </div>
                <div class="stamp-oficial stamp-red">
                    FUERZAS<br>MILITARES<br>COL¬∑RP<br>2026
                </div>
            </div>

            <div class="success-meta">
                FECHA DE REGISTRO: <span id="fecha"></span><br>
                ID DE ARCHIVO: FAC-01 ¬∑ COLOMBIA WARS RP ¬∑ MTA GTA SA<br>
                DESARROLLADO POR: SAM SUKV
            </div>

            <button class="btn-nuevo" onclick="location.reload()">GENERAR NUEVO REGISTRO</button>
        </div>

    </div><!-- /pad-inner -->
</div><!-- /signature-pad -->

<script>
    /* Particles */
    const pc = document.getElementById('particles');
    for (let i = 0; i < 14; i++) {
        const el = document.createElement('div');
        el.className = 'p';
        el.style.cssText = `left:${Math.random()*100}%;width:2px;height:2px;
            animation-duration:${8+Math.random()*14}s;
            animation-delay:${Math.random()*14}s;
            --d:${(Math.random()-.5)*60}px;
            background:${Math.random()>.5?'#fcd116':'#ce1126'};`;
        pc.appendChild(el);
    }

    /* Canvas */
    const canvas = document.getElementById('sig-canvas');
    const ctx = canvas.getContext('2d');
    let drawing = false;

    function resize() {
        const rect = canvas.parentElement.getBoundingClientRect();
        canvas.width = rect.width;
        canvas.height = rect.height;
        ctx.strokeStyle = '#001a4d';
        ctx.lineWidth = 2.5;
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';
    }
    window.addEventListener('load', resize);
    window.addEventListener('resize', resize);

    function getPos(e) {
        const rect = canvas.getBoundingClientRect();
        const sx = canvas.width / rect.width;
        const sy = canvas.height / rect.height;
        const cx = e.touches ? e.touches[0].clientX : e.clientX;
        const cy = e.touches ? e.touches[0].clientY : e.clientY;
        return { x: (cx - rect.left) * sx, y: (cy - rect.top) * sy };
    }

    canvas.addEventListener('mousedown',  e => { drawing=true; ctx.beginPath(); const p=getPos(e); ctx.moveTo(p.x,p.y); });
    canvas.addEventListener('mousemove',  e => { if(!drawing)return; const p=getPos(e); ctx.lineTo(p.x,p.y); ctx.stroke(); });
    window.addEventListener('mouseup',    () => drawing=false);
    canvas.addEventListener('touchstart', e => { e.preventDefault(); drawing=true; ctx.beginPath(); const p=getPos(e); ctx.moveTo(p.x,p.y); }, {passive:false});
    canvas.addEventListener('touchmove',  e => { e.preventDefault(); if(!drawing)return; const p=getPos(e); ctx.lineTo(p.x,p.y); ctx.stroke(); }, {passive:false});
    window.addEventListener('touchend',   () => drawing=false);

    function clearCanvas() { ctx.clearRect(0,0,canvas.width,canvas.height); }

    /* Loading process */
    function iniciarProceso() {
        const nom = document.getElementById('nombre').value.trim();
        if (!nom) { alert('SISTEMA: Ingrese identificaci√≥n.'); return; }

        const carga = document.getElementById('pantalla-carga');
        const status = document.getElementById('load-status');
        carga.style.display = 'flex';

        const fases = [
            'ANALIZANDO FIRMA BIOM√âTRICA...',
            'VERIFICANDO ANTECEDENTES G6...',
            'VALIDANDO CREDENCIALES RP...',
            'SELLANDO DOCUMENTO OFICIAL...'
        ];
        let i = 0;
        const timer = setInterval(() => {
            status.textContent = fases[i];
            i++;
            if (i >= fases.length) {
                clearInterval(timer);
                setTimeout(finalizar, 700);
            }
        }, 750);
    }

    function finalizar() {
        const ahora = new Date();
        document.getElementById('fecha').textContent = ahora.toLocaleString('es-CO');
        document.getElementById('pantalla-carga').style.display = 'none';
        document.getElementById('resumen').textContent =
            document.getElementById('rango').value + ' ‚Äî ' +
            document.getElementById('nombre').value.trim().toUpperCase();
        document.getElementById('captured-signature').src = canvas.toDataURL();
        const ss = document.getElementById('success-screen');
        ss.style.display = 'flex';
    }
</script>
</body>
</html>
